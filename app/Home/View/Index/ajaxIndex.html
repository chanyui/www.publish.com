<!DOCTYPE HTML>
<html>
<head>
    <title>原生ajax提交</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
</head>
<body>

<div><a id="ajax" href="javascript:void(0);">原生ajax提交</a></div>
<div><p class="append"></p></div>

<p>
    <input type="text" name="verify" placeholder="输入验证码">
    <img src="{:U('home/index/verifyCode')}" alt="验证码" title="点击刷新" style="cursor: pointer" onclick="this.src+='';">
</p>

</body>
<script type="text/javascript" src="__PUBLIC__/common/js/jquery-1.9.0.min.js"></script>
<script type="text/javascript" src="__PUBLIC__/common/echarts/echarts.min.js"></script>
<script type="text/javascript">
    jQuery(function () {
        $('#ajax').click(function () {
            var data = 'name=yc';               //提交数据
            var xhr;
            if (window.XMLHttpRequest) {
                xhr = new XMLHttpRequest();     //非IE内核，创建一个ajax对象
            } else if (window.ActiveXObject) {
                //IE内核,这里早期IE的版本写法不同,具体可以查询下
                XHR = new ActiveXObject("Microsoft.XMLHTTP");
            } else {
                XHR = null;
            }
            xhr.open('POST', '{:U("index/ajax")}', true);   //
            xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded'); //设置请求头
            xhr.onreadystatechange = function () {
                if (xhr.readyState == 4) {
                    if (xhr.status == 200) {
                        $data = JSON.parse(xhr.responseText);
                        $('.append').html($data.name);
                    }
                }
            };
            xhr.send(data);   //发送请求
        });

    });
</script>
</html>